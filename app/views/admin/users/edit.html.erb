<div class="container">
  <div class="col-md-6 col-md-offset-3 text-center">
    <h3>Edit User</h3>

    <%= form_tag(admin_user_path(@user), method: "PATCH")do %>
      <%= hidden_field_tag :user_id, value: @user.id %>

      <div class="form-group text-left">
        <%= label_tag :username %>
        <%= text_field_tag 'username', @user.username, class: 'form-control' %>
      </div>

      <div class="form-group text-left">
        <%= label_tag :password %>
        <%= text_field_tag 'username', nil, class: 'form-control' %>
      </div>

      <div class="form-group text-left">
        <%= label_tag :email %>
        <%= text_field_tag 'username', @user.email, class: 'form-control' %>
      </div>

      <div class="form-group text-left">
        <%= label_tag :phone_number %>
        <%= text_field_tag 'phone_number', @user.phone_number, class: 'form-control' %>
      </div>

      <div class="form-group text-left">
        <%= label_tag :bio %>
        <%= text_area_tag 'bio', @user.user_profile.bio, class: 'form-control' %>
      </div>

      <div class="form-group text-left">
        <label for="switch">Status</label>
        <div class="toggle-switch">
          <input id="switch" type="checkbox" name="access" checked="false" data-size="large" data-on-text="Activate" data-off-text="Deactivate">
        </div>
      </div>

      <%= hidden_field_tag "status", @user.active, id: "hidden-status" %>

      <div class=btn-group>
        <%= submit_tag "Update", :class => "btn btn-primary" %>
      </div>
    <% end %>
  </div>
</div>

<script type="text/javascript">

  $("[name='access']").bootstrapSwitch()

  $('input[name="access"]').on('switchChange.bootstrapSwitch', function(event, state) {
    $('#hidden-status').val(state)
    console.log($('#hidden-status').val())
  });


</script>
